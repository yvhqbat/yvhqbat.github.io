## 进程的互斥、同步和通信

参考：
- [进程的同步与通信，进程与线程同步的区别，进程与线程通信的区别](https://blog.csdn.net/jfkidear/article/details/52561976)

## 摘要
在多道程序设计系统中，同一时刻可能有许多进程，这些进程之间存在两种基本关系：竞争关系和协作关系。进程的互斥、同步、通信都是基于这两种基本关系而存在的。
- 为了解决进程间竞争关系（间接制约关系）而引入进程互斥；
- 为了解决进程间松散的协作关系( 直接制约关系)而引入进程同步；
- 为了解决进程间紧密的协作关系而引入进程通信。

### 竞争关系和进程互斥
系统中的多个进程之间彼此无关，它们并不知道其他进程的存在，并且也不受其他进程执行的影响。由于这些进程共用了一套计算机系统资源，因而， 必然要出现多个进程竞争资源的问题。操作系统必须协调好进程对资源的争用。

资源竞争出现了两个控制问题：
1. 死锁 （deadlock ）问题，一组进程如果都获得了部分资源，还想要得到其他进程所占有的资源，最终所有的进程将陷入死锁。
2. 饥饿（starvation ）问题，一个进程由于其他进程总是优先于它而被无限期拖延。

操作系统需要保证诸进程能互斥地访问临界资源，既要解决饥饿问题，又要解决死锁问题。**进程互斥**（mutual exclusion ）是解决进程间竞争关系( 间接制约关系) 的手段。 
进程互斥指若干个进程要使用同一共享资源时，任何时刻最多允许一个进程去使用，其他要使用该资源的进程必须等待，直到占有资源的进程释放该资源。

### 协作关系和进程同步
某些进程为完成同一任务需要分工协作，由于合作的每一个进程都是独立地以不可预知的速度推进，这就需要相互协作的进程在某些协调点上协调各自的工作。
当合作进程中的一个到达协调点后，在尚未得到其伙伴进程发来的消息或信号之前应阻塞自己，直到其他合作进程发来协调信号或消息后方被唤醒并继续执行。
这种协作进程之间相互等待对方消息或信号的协调关系称为**进程同步**。

不难看出，进程互斥关系是一种特殊的进程同步关系。

### 进程通信
进程之间互相交换信息的工作称之为进程通信IPC （InterProcess Communication）（主要是指大量数据的交换）。进程间通信的方式很多，包括： 
- pipe（管道）
- FIFO（命名管道）
- 信号量
- 消息队列
- 共享存储和内存映射
- 网络IPC（socket）
