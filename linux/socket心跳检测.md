## 心跳检测

参考博客：http://blog.csdn.net/zxh2075/article/details/49847381

在socket心跳机制中，心跳包可以由服务器发送给客户端，也可以由客户端发送给服务器，不过比较起来，前者开销可能较大。
由客户端给服务器发送心跳包，服务器不必返回应答包，而是通过判断客户在线会话记录中的计数标志值来实现心跳异常的检测，以此决定客户端是否已经断开连接以及删除其在线会话记录。

基本思路：
1. 客户端定时给服务器发送心跳包（例如定时时间为3秒）；
2. 服务器创建一个心跳检测的线程，线程中每隔3秒对用户在线会话记录中的计数器进行加1操作（初始值为0）；
3. 服务器每次收到客户端的心跳包后，都将其在线会话记录中的计数器清零；
4. 当心跳检测线程中检测到某用户计数器已经累加到数值为5时（说明已经有15秒未收到该用户心跳包），就判定该用户已经断线，并将其从会话记录中清除出去。
    
